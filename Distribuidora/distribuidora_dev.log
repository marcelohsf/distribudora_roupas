2024-12-03T20:23:03.795-03:00  INFO 25884 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 25884 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T20:23:03.812-03:00  INFO 25884 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T20:23:03.902-03:00  INFO 25884 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T20:23:03.903-03:00  INFO 25884 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T20:23:04.711-03:00  INFO 25884 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T20:23:04.788-03:00  INFO 25884 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 3 JPA repository interfaces.
2024-12-03T20:23:06.094-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T20:23:06.126-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T20:23:06.127-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T20:23:06.258-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T20:23:06.259-03:00  INFO 25884 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2353 ms
2024-12-03T20:23:06.336-03:00  INFO 25884 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T20:23:06.720-03:00  INFO 25884 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5c49b160
2024-12-03T20:23:06.724-03:00  INFO 25884 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T20:23:06.744-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T20:23:07.002-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T20:23:07.115-03:00  INFO 25884 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T20:23:07.179-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T20:23:07.665-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T20:23:07.808-03:00  INFO 25884 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T20:23:09.175-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T20:23:09.198-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T20:23:09.200-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T20:23:09.203-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T20:23:09.204-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T20:23:09.206-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T20:23:09.207-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T20:23:09.208-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T20:23:09.208-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T20:23:09.209-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T20:23:09.215-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T20:23:09.223-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T20:23:09.226-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T20:23:09.232-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T20:23:09.252-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T20:23:09.262-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T20:23:09.275-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T20:23:09.282-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T20:23:09.289-03:00  INFO 25884 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T20:23:09.858-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T20:23:09.944-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T20:23:09.960-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T20:23:09.962-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T20:23:09.966-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_roupa')
2024-12-03T20:23:09.970-03:00 DEBUG 25884 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        roupa
        (avaliacao, categoria, cor, descricao, idestabelecimento, idfornecedor, preco, quantidade_estoque, status, tamanho, id_roupa) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-03T20:23:10.060-03:00  WARN 25884 --- [Distribuidora] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-03T20:23:10.610-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-03T20:23:10.672-03:00  INFO 25884 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-03T20:23:10.686-03:00  INFO 25884 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Started DistribuidoraApplication in 7.527 seconds (process running for 8.889)
2024-12-03T20:29:55.305-03:00  INFO 25884 --- [Distribuidora] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-03T20:29:55.306-03:00  INFO 25884 --- [Distribuidora] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-03T20:29:55.309-03:00  INFO 25884 --- [Distribuidora] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-03T20:29:55.543-03:00 DEBUG 25884 --- [Distribuidora] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.id_roupa,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.cor,
        r1_0.descricao,
        r1_0.idestabelecimento,
        r1_0.idfornecedor,
        r1_0.preco,
        r1_0.quantidade_estoque,
        r1_0.status,
        r1_0.tamanho 
    from
        roupa r1_0
2024-12-03T20:29:55.590-03:00 DEBUG 25884 --- [Distribuidora] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.id_estabelecimento=?
2024-12-03T20:29:55.600-03:00 DEBUG 25884 --- [Distribuidora] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        f1_0.id_fornecedor,
        f1_0.cnpj,
        f1_0.endereco,
        f1_0.nome,
        f1_0.telefone 
    from
        fornecedor f1_0 
    where
        f1_0.id_fornecedor=?
2024-12-03T20:39:48.568-03:00 DEBUG 25884 --- [Distribuidora] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0
2024-12-03T20:42:53.128-03:00 DEBUG 25884 --- [Distribuidora] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.id_estabelecimento=?
2024-12-03T20:42:53.154-03:00  WARN 25884 --- [Distribuidora] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.distribuidora.services.exceptions.ObjectNotFoundException: Estabelecimento Não Encontrado! ID: 0]
2024-12-03T20:43:14.246-03:00 DEBUG 25884 --- [Distribuidora] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.id_estabelecimento=?
2024-12-03T22:14:05.884-03:00  INFO 24732 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 24732 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T22:14:05.891-03:00  INFO 24732 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T22:14:05.966-03:00  INFO 24732 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T22:14:05.966-03:00  INFO 24732 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T22:14:06.619-03:00  INFO 24732 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T22:14:06.674-03:00  INFO 24732 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 3 JPA repository interfaces.
2024-12-03T22:14:07.654-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T22:14:07.675-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T22:14:07.677-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T22:14:07.734-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T22:14:07.734-03:00  INFO 24732 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1768 ms
2024-12-03T22:14:07.778-03:00  INFO 24732 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T22:14:08.144-03:00  INFO 24732 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@30f0424c
2024-12-03T22:14:08.144-03:00  INFO 24732 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T22:14:08.164-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T22:14:08.384-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T22:14:08.514-03:00  INFO 24732 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T22:14:08.586-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T22:14:09.254-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T22:14:09.456-03:00  INFO 24732 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T22:14:11.094-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T22:14:11.114-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T22:14:11.114-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T22:14:11.134-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T22:14:11.134-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T22:14:11.144-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T22:14:11.154-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T22:14:11.155-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T22:14:11.164-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T22:14:11.164-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T22:14:11.174-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T22:14:11.184-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T22:14:11.187-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T22:14:11.194-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T22:14:11.204-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T22:14:11.220-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T22:14:11.224-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T22:14:11.236-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T22:14:11.244-03:00  INFO 24732 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:14:11.804-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:14:11.899-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:14:11.918-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:14:11.924-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:14:11.928-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_roupa')
2024-12-03T22:14:11.936-03:00 DEBUG 24732 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        roupa
        (avaliacao, categoria, cor, descricao, idestabelecimento, idfornecedor, preco, quantidade_estoque, status, tamanho, id_roupa) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-03T22:14:12.046-03:00  WARN 24732 --- [Distribuidora] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-03T22:14:12.819-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-03T22:14:12.877-03:00  INFO 24732 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-03T22:14:12.902-03:00  INFO 24732 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Started DistribuidoraApplication in 7.633 seconds (process running for 8.34)
2024-12-03T22:14:18.255-03:00  INFO 24732 --- [Distribuidora] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-03T22:14:18.256-03:00  INFO 24732 --- [Distribuidora] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-03T22:14:18.257-03:00  INFO 24732 --- [Distribuidora] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-03T22:14:18.389-03:00 DEBUG 24732 --- [Distribuidora] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0
2024-12-03T22:14:50.659-03:00 DEBUG 24732 --- [Distribuidora] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0
2024-12-03T22:14:53.032-03:00 DEBUG 24732 --- [Distribuidora] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.id_estabelecimento=?
2024-12-03T22:14:55.540-03:00 DEBUG 24732 --- [Distribuidora] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.id_estabelecimento=?
2024-12-03T22:14:55.549-03:00  WARN 24732 --- [Distribuidora] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.distribuidora.services.exceptions.ObjectNotFoundException: Estabelecimento Não Encontrado! ID: 2]
2024-12-03T22:15:09.636-03:00 DEBUG 24732 --- [Distribuidora] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0
2024-12-03T22:15:19.706-03:00  WARN 24732 --- [Distribuidora] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "nome"]
2024-12-03T22:15:25.771-03:00 DEBUG 24732 --- [Distribuidora] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0
2024-12-03T22:16:52.602-03:00 DEBUG 24732 --- [Distribuidora] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.nome=?
2024-12-03T22:17:06.914-03:00 DEBUG 24732 --- [Distribuidora] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.nome=?
2024-12-03T22:17:06.920-03:00  WARN 24732 --- [Distribuidora] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.distribuidora.services.exceptions.ObjectNotFoundException: Estabelecimento Não Encontrado! NOME: Estabelecimento]
2024-12-03T22:17:10.888-03:00 DEBUG 24732 --- [Distribuidora] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.nome=?
2024-12-03T22:17:10.892-03:00  WARN 24732 --- [Distribuidora] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.distribuidora.services.exceptions.ObjectNotFoundException: Estabelecimento Não Encontrado! NOME: Estabelecimento2]
2024-12-03T22:30:48.680-03:00 DEBUG 24732 --- [Distribuidora] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.nome=?
2024-12-03T22:30:48.686-03:00  WARN 24732 --- [Distribuidora] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.distribuidora.services.exceptions.ObjectNotFoundException: Estabelecimento Não Encontrado! NOME: Albatroz]
2024-12-03T22:31:11.694-03:00  INFO 24732 --- [Distribuidora] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2024-12-03T22:31:11.766-03:00  INFO 24732 --- [Distribuidora] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2024-12-03T22:31:11.774-03:00  INFO 24732 --- [Distribuidora] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:31:11.774-03:00  INFO 24732 --- [Distribuidora] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-03T22:31:11.785-03:00  INFO 24732 --- [Distribuidora] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-03T22:31:14.594-03:00  INFO 7292 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 7292 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T22:31:14.599-03:00  INFO 7292 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T22:31:14.664-03:00  INFO 7292 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T22:31:14.664-03:00  INFO 7292 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T22:31:15.244-03:00  INFO 7292 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T22:31:15.294-03:00  INFO 7292 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 3 JPA repository interfaces.
2024-12-03T22:31:16.144-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T22:31:16.158-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T22:31:16.158-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T22:31:16.206-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T22:31:16.206-03:00  INFO 7292 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1542 ms
2024-12-03T22:31:16.244-03:00  INFO 7292 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T22:31:16.434-03:00  INFO 7292 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ffd3bba
2024-12-03T22:31:16.434-03:00  INFO 7292 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T22:31:16.444-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T22:31:16.577-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T22:31:16.644-03:00  INFO 7292 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T22:31:16.694-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T22:31:16.988-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T22:31:17.078-03:00  INFO 7292 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T22:31:17.986-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T22:31:18.004-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T22:31:18.014-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T22:31:18.018-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T22:31:18.018-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T22:31:18.024-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T22:31:18.024-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T22:31:18.034-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T22:31:18.034-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T22:31:18.034-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T22:31:18.044-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T22:31:18.054-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T22:31:18.054-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T22:31:18.054-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T22:31:18.074-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T22:31:18.084-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T22:31:18.094-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T22:31:18.097-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T22:31:18.104-03:00  INFO 7292 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:31:18.459-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:31:18.514-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:31:18.526-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:31:18.526-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:31:18.534-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_roupa')
2024-12-03T22:31:18.534-03:00 DEBUG 7292 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        roupa
        (avaliacao, categoria, cor, descricao, idestabelecimento, idfornecedor, preco, quantidade_estoque, status, tamanho, id_roupa) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-03T22:31:18.600-03:00  WARN 7292 --- [Distribuidora] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-03T22:31:18.934-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-03T22:31:18.964-03:00  INFO 7292 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-03T22:31:18.974-03:00  INFO 7292 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Started DistribuidoraApplication in 4.83 seconds (process running for 5.289)
2024-12-03T22:31:23.088-03:00  INFO 7292 --- [Distribuidora] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-03T22:31:23.089-03:00  INFO 7292 --- [Distribuidora] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-03T22:31:23.090-03:00  INFO 7292 --- [Distribuidora] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-03T22:31:23.240-03:00 DEBUG 7292 --- [Distribuidora] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.nome=?
2024-12-03T22:32:54.387-03:00  WARN 7292 --- [Distribuidora] [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2024-12-03T22:33:10.779-03:00 DEBUG 7292 --- [Distribuidora] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.nome=?
2024-12-03T22:33:10.783-03:00 DEBUG 7292 --- [Distribuidora] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:33:10.785-03:00 DEBUG 7292 --- [Distribuidora] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:33:29.453-03:00 DEBUG 7292 --- [Distribuidora] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.nome=?
2024-12-03T22:33:29.461-03:00  WARN 7292 --- [Distribuidora] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.distribuidora.services.exceptions.DataIntegrityViolationException: NOME já Cadastrado!]
2024-12-03T22:34:12.386-03:00 DEBUG 7292 --- [Distribuidora] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0
2024-12-03T22:36:19.974-03:00  INFO 7292 --- [Distribuidora] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2024-12-03T22:36:20.054-03:00  INFO 7292 --- [Distribuidora] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2024-12-03T22:36:20.054-03:00  INFO 7292 --- [Distribuidora] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:36:20.063-03:00  INFO 7292 --- [Distribuidora] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-03T22:36:20.067-03:00  INFO 7292 --- [Distribuidora] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-03T22:36:22.862-03:00  INFO 18800 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 18800 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T22:36:22.864-03:00  INFO 18800 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T22:36:22.944-03:00  INFO 18800 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T22:36:22.944-03:00  INFO 18800 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T22:36:23.476-03:00  INFO 18800 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T22:36:23.524-03:00  INFO 18800 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 3 JPA repository interfaces.
2024-12-03T22:36:24.385-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T22:36:24.401-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T22:36:24.401-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T22:36:24.449-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T22:36:24.449-03:00  INFO 18800 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1505 ms
2024-12-03T22:36:24.484-03:00  INFO 18800 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T22:36:24.784-03:00  INFO 18800 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3a7857c0
2024-12-03T22:36:24.784-03:00  INFO 18800 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T22:36:24.796-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T22:36:24.914-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T22:36:24.984-03:00  INFO 18800 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T22:36:25.024-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T22:36:25.354-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T22:36:25.459-03:00  INFO 18800 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T22:36:26.385-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T22:36:26.404-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T22:36:26.404-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T22:36:26.414-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T22:36:26.417-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T22:36:26.424-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T22:36:26.425-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T22:36:26.434-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T22:36:26.434-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T22:36:26.434-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T22:36:26.444-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T22:36:26.449-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T22:36:26.449-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T22:36:26.454-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T22:36:26.465-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T22:36:26.481-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T22:36:26.494-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T22:36:26.497-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T22:36:26.504-03:00  INFO 18800 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:36:26.859-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:36:26.910-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:36:26.924-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:36:26.926-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:36:26.926-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_roupa')
2024-12-03T22:36:26.926-03:00 DEBUG 18800 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        roupa
        (avaliacao, categoria, cor, descricao, idestabelecimento, idfornecedor, preco, quantidade_estoque, status, tamanho, id_roupa) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-03T22:36:26.994-03:00  WARN 18800 --- [Distribuidora] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-03T22:36:27.319-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-03T22:36:27.356-03:00  INFO 18800 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-03T22:36:27.364-03:00  INFO 18800 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Started DistribuidoraApplication in 4.99 seconds (process running for 5.448)
2024-12-03T22:36:34.714-03:00  INFO 18800 --- [Distribuidora] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-03T22:36:34.714-03:00  INFO 18800 --- [Distribuidora] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-03T22:36:34.714-03:00  INFO 18800 --- [Distribuidora] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-12-03T22:36:34.865-03:00 DEBUG 18800 --- [Distribuidora] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0
2024-12-03T22:38:07.635-03:00  INFO 18800 --- [Distribuidora] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2024-12-03T22:38:07.717-03:00  INFO 18800 --- [Distribuidora] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2024-12-03T22:38:07.724-03:00  INFO 18800 --- [Distribuidora] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:38:07.724-03:00  INFO 18800 --- [Distribuidora] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-03T22:38:07.724-03:00  INFO 18800 --- [Distribuidora] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-03T22:38:11.034-03:00  INFO 16296 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 16296 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T22:38:11.044-03:00  INFO 16296 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T22:38:11.106-03:00  INFO 16296 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T22:38:11.114-03:00  INFO 16296 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T22:38:11.644-03:00  INFO 16296 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T22:38:11.684-03:00  INFO 16296 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 3 JPA repository interfaces.
2024-12-03T22:38:12.504-03:00  INFO 16296 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T22:38:12.518-03:00  INFO 16296 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T22:38:12.518-03:00  INFO 16296 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T22:38:12.566-03:00  INFO 16296 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T22:38:12.566-03:00  INFO 16296 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1452 ms
2024-12-03T22:38:12.598-03:00  INFO 16296 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T22:38:12.804-03:00  INFO 16296 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3a7857c0
2024-12-03T22:38:12.804-03:00  INFO 16296 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T22:38:12.824-03:00  INFO 16296 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T22:38:12.944-03:00  INFO 16296 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T22:38:13.014-03:00  INFO 16296 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T22:38:13.056-03:00  INFO 16296 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T22:38:13.334-03:00  INFO 16296 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T22:38:13.428-03:00  INFO 16296 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T22:38:14.334-03:00  INFO 16296 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T22:38:14.344-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T22:38:14.344-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T22:38:14.354-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T22:38:14.354-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T22:38:14.354-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T22:38:14.354-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T22:38:14.364-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T22:38:14.367-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T22:38:14.370-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T22:38:14.374-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T22:38:14.374-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T22:38:14.374-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T22:38:14.385-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T22:38:14.394-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T22:38:14.404-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T22:38:14.416-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T22:38:14.416-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T22:38:14.424-03:00  INFO 16296 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:38:14.774-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:38:14.824-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:38:14.834-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:38:14.834-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:38:14.844-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:38:14.846-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:38:14.846-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:38:14.846-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:38:14.846-03:00 DEBUG 16296 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:38:14.862-03:00  WARN 16296 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2024-12-03T22:38:14.862-03:00 ERROR 16296 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
2024-12-03T22:38:14.867-03:00  WARN 16296 --- [Distribuidora] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
2024-12-03T22:38:14.867-03:00  INFO 16296 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:38:14.874-03:00  INFO 16296 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-03T22:38:14.874-03:00  INFO 16296 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-03T22:38:14.882-03:00  INFO 16296 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-12-03T22:38:14.896-03:00  INFO 16296 --- [Distribuidora] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-03T22:38:14.914-03:00 ERROR 16296 --- [Distribuidora] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1093) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1030) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at com.distribuidora.Distribuidora.DistribuidoraApplication.main(DistribuidoraApplication.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.0.jar:3.4.0]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; SQL [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; constraint [fornecedor_cnpj_key]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.0.jar:6.2.0]
	at jdk.proxy4/jdk.proxy4.$Proxy137.save(Unknown Source) ~[na:na]
	at com.distribuidora.services.DBService.initDB(DBService.java:46) ~[classes/:na]
	at com.distribuidora.config.DevConfig.initDB(DevConfig.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219) ~[spring-beans-6.2.0.jar:6.2.0]
	... 25 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:104) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:110) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.0.jar:6.2.0]
	... 46 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155) ~[postgresql-42.7.4.jar:42.7.4]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	... 67 common frames omitted

2024-12-03T22:38:48.595-03:00  INFO 24768 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 24768 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T22:38:48.595-03:00  INFO 24768 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T22:38:48.664-03:00  INFO 24768 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T22:38:48.664-03:00  INFO 24768 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T22:38:49.204-03:00  INFO 24768 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T22:38:49.254-03:00  INFO 24768 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 3 JPA repository interfaces.
2024-12-03T22:38:50.164-03:00  INFO 24768 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T22:38:50.184-03:00  INFO 24768 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T22:38:50.184-03:00  INFO 24768 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T22:38:50.237-03:00  INFO 24768 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T22:38:50.237-03:00  INFO 24768 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1573 ms
2024-12-03T22:38:50.271-03:00  INFO 24768 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T22:38:50.486-03:00  INFO 24768 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6e4a5fe4
2024-12-03T22:38:50.494-03:00  INFO 24768 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T22:38:50.504-03:00  INFO 24768 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T22:38:50.645-03:00  INFO 24768 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T22:38:50.734-03:00  INFO 24768 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T22:38:50.769-03:00  INFO 24768 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T22:38:51.084-03:00  INFO 24768 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T22:38:51.184-03:00  INFO 24768 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T22:38:52.069-03:00  INFO 24768 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T22:38:52.084-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T22:38:52.084-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T22:38:52.089-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T22:38:52.089-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T22:38:52.094-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T22:38:52.094-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T22:38:52.094-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T22:38:52.094-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T22:38:52.104-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T22:38:52.105-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T22:38:52.105-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T22:38:52.105-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T22:38:52.114-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T22:38:52.124-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T22:38:52.134-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T22:38:52.144-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T22:38:52.144-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T22:38:52.144-03:00  INFO 24768 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:38:52.514-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:38:52.554-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:38:52.574-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:38:52.574-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:38:52.574-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:38:52.574-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:38:52.582-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:38:52.584-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:38:52.584-03:00 DEBUG 24768 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:38:52.584-03:00  WARN 24768 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2024-12-03T22:38:52.584-03:00 ERROR 24768 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
2024-12-03T22:38:52.597-03:00  WARN 24768 --- [Distribuidora] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
2024-12-03T22:38:52.597-03:00  INFO 24768 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:38:52.604-03:00  INFO 24768 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-03T22:38:52.604-03:00  INFO 24768 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-03T22:38:52.604-03:00  INFO 24768 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-12-03T22:38:52.624-03:00  INFO 24768 --- [Distribuidora] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-03T22:38:52.645-03:00 ERROR 24768 --- [Distribuidora] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1093) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1030) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at com.distribuidora.Distribuidora.DistribuidoraApplication.main(DistribuidoraApplication.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.0.jar:3.4.0]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; SQL [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; constraint [fornecedor_cnpj_key]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.0.jar:6.2.0]
	at jdk.proxy4/jdk.proxy4.$Proxy137.save(Unknown Source) ~[na:na]
	at com.distribuidora.services.DBService.initDB(DBService.java:46) ~[classes/:na]
	at com.distribuidora.config.DevConfig.initDB(DevConfig.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219) ~[spring-beans-6.2.0.jar:6.2.0]
	... 25 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:104) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:110) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.0.jar:6.2.0]
	... 46 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155) ~[postgresql-42.7.4.jar:42.7.4]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	... 67 common frames omitted

2024-12-03T22:39:15.088-03:00  INFO 6284 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 6284 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T22:39:15.091-03:00  INFO 6284 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T22:39:15.167-03:00  INFO 6284 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T22:39:15.167-03:00  INFO 6284 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T22:39:15.774-03:00  INFO 6284 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T22:39:15.834-03:00  INFO 6284 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2024-12-03T22:39:16.708-03:00  INFO 6284 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T22:39:16.722-03:00  INFO 6284 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T22:39:16.722-03:00  INFO 6284 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T22:39:16.778-03:00  INFO 6284 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T22:39:16.779-03:00  INFO 6284 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1611 ms
2024-12-03T22:39:16.822-03:00  INFO 6284 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T22:39:17.068-03:00  INFO 6284 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@c5d4de5
2024-12-03T22:39:17.070-03:00  INFO 6284 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T22:39:17.082-03:00  INFO 6284 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T22:39:17.289-03:00  INFO 6284 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T22:39:17.365-03:00  INFO 6284 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T22:39:17.410-03:00  INFO 6284 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T22:39:17.772-03:00  INFO 6284 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T22:39:17.873-03:00  INFO 6284 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T22:39:18.895-03:00  INFO 6284 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T22:39:18.915-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T22:39:18.916-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T22:39:18.918-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T22:39:18.919-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T22:39:18.924-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T22:39:18.928-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T22:39:18.931-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T22:39:18.932-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T22:39:18.934-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T22:39:18.940-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T22:39:18.945-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T22:39:18.947-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T22:39:18.952-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T22:39:18.964-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T22:39:18.972-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T22:39:18.985-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T22:39:18.989-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T22:39:18.995-03:00  INFO 6284 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:39:19.391-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:39:19.451-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:39:19.464-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:39:19.465-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:39:19.468-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:39:19.470-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:39:19.471-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:39:19.474-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:39:19.475-03:00 DEBUG 6284 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:39:19.482-03:00  WARN 6284 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2024-12-03T22:39:19.482-03:00 ERROR 6284 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
2024-12-03T22:39:19.495-03:00  WARN 6284 --- [Distribuidora] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
2024-12-03T22:39:19.496-03:00  INFO 6284 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:39:19.500-03:00  INFO 6284 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-03T22:39:19.504-03:00  INFO 6284 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-03T22:39:19.507-03:00  INFO 6284 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-12-03T22:39:19.524-03:00  INFO 6284 --- [Distribuidora] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-03T22:39:19.551-03:00 ERROR 6284 --- [Distribuidora] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1093) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1030) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at com.distribuidora.Distribuidora.DistribuidoraApplication.main(DistribuidoraApplication.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.0.jar:3.4.0]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; SQL [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; constraint [fornecedor_cnpj_key]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.0.jar:6.2.0]
	at jdk.proxy4/jdk.proxy4.$Proxy137.save(Unknown Source) ~[na:na]
	at com.distribuidora.services.DBService.initDB(DBService.java:46) ~[classes/:na]
	at com.distribuidora.config.DevConfig.initDB(DevConfig.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219) ~[spring-beans-6.2.0.jar:6.2.0]
	... 25 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:104) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:110) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.0.jar:6.2.0]
	... 46 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155) ~[postgresql-42.7.4.jar:42.7.4]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	... 67 common frames omitted

2024-12-03T22:41:25.925-03:00  INFO 18116 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 18116 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T22:41:25.928-03:00  INFO 18116 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T22:41:25.997-03:00  INFO 18116 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T22:41:25.997-03:00  INFO 18116 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T22:41:26.632-03:00  INFO 18116 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T22:41:26.698-03:00  INFO 18116 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 3 JPA repository interfaces.
2024-12-03T22:41:27.572-03:00  INFO 18116 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T22:41:27.586-03:00  INFO 18116 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T22:41:27.586-03:00  INFO 18116 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T22:41:27.632-03:00  INFO 18116 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T22:41:27.632-03:00  INFO 18116 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1633 ms
2024-12-03T22:41:27.672-03:00  INFO 18116 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T22:41:27.872-03:00  INFO 18116 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@335d05f1
2024-12-03T22:41:27.874-03:00  INFO 18116 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T22:41:27.886-03:00  INFO 18116 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T22:41:28.028-03:00  INFO 18116 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T22:41:28.101-03:00  INFO 18116 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T22:41:28.152-03:00  INFO 18116 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T22:41:28.470-03:00  INFO 18116 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T22:41:28.569-03:00  INFO 18116 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T22:41:29.699-03:00  INFO 18116 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T22:41:29.715-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T22:41:29.716-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T22:41:29.721-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T22:41:29.722-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T22:41:29.728-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T22:41:29.732-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T22:41:29.736-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T22:41:29.738-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T22:41:29.741-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T22:41:29.753-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T22:41:29.761-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T22:41:29.763-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T22:41:29.768-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T22:41:29.782-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T22:41:29.792-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T22:41:29.804-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T22:41:29.809-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T22:41:29.814-03:00  INFO 18116 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:41:30.236-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:41:30.293-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:41:30.305-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:41:30.308-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:41:30.310-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:41:30.312-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:41:30.314-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:41:30.319-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:41:30.321-03:00 DEBUG 18116 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:41:30.328-03:00  WARN 18116 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2024-12-03T22:41:30.329-03:00 ERROR 18116 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
2024-12-03T22:41:30.337-03:00  WARN 18116 --- [Distribuidora] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
2024-12-03T22:41:30.338-03:00  INFO 18116 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:41:30.342-03:00  INFO 18116 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-03T22:41:30.346-03:00  INFO 18116 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-03T22:41:30.350-03:00  INFO 18116 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-12-03T22:41:30.365-03:00  INFO 18116 --- [Distribuidora] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-03T22:41:30.387-03:00 ERROR 18116 --- [Distribuidora] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1093) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1030) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at com.distribuidora.Distribuidora.DistribuidoraApplication.main(DistribuidoraApplication.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.0.jar:3.4.0]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; SQL [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; constraint [fornecedor_cnpj_key]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.0.jar:6.2.0]
	at jdk.proxy4/jdk.proxy4.$Proxy137.save(Unknown Source) ~[na:na]
	at com.distribuidora.services.DBService.initDB(DBService.java:46) ~[classes/:na]
	at com.distribuidora.config.DevConfig.initDB(DevConfig.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219) ~[spring-beans-6.2.0.jar:6.2.0]
	... 25 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:104) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:110) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.0.jar:6.2.0]
	... 46 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155) ~[postgresql-42.7.4.jar:42.7.4]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	... 67 common frames omitted

2024-12-03T22:41:41.588-03:00  INFO 12868 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 12868 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T22:41:41.591-03:00  INFO 12868 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T22:41:41.664-03:00  INFO 12868 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T22:41:41.664-03:00  INFO 12868 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T22:41:42.241-03:00  INFO 12868 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T22:41:42.288-03:00  INFO 12868 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 3 JPA repository interfaces.
2024-12-03T22:41:43.132-03:00  INFO 12868 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T22:41:43.143-03:00  INFO 12868 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T22:41:43.143-03:00  INFO 12868 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T22:41:43.186-03:00  INFO 12868 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T22:41:43.186-03:00  INFO 12868 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1521 ms
2024-12-03T22:41:43.224-03:00  INFO 12868 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T22:41:43.424-03:00  INFO 12868 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ffd3bba
2024-12-03T22:41:43.426-03:00  INFO 12868 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T22:41:43.435-03:00  INFO 12868 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T22:41:43.562-03:00  INFO 12868 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T22:41:43.646-03:00  INFO 12868 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T22:41:43.697-03:00  INFO 12868 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T22:41:44.010-03:00  INFO 12868 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T22:41:44.108-03:00  INFO 12868 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T22:41:45.048-03:00  INFO 12868 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T22:41:45.067-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T22:41:45.068-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T22:41:45.074-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T22:41:45.075-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T22:41:45.080-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T22:41:45.084-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T22:41:45.088-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T22:41:45.092-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T22:41:45.094-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T22:41:45.101-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T22:41:45.108-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T22:41:45.111-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T22:41:45.116-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T22:41:45.129-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T22:41:45.142-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T22:41:45.157-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T22:41:45.161-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T22:41:45.168-03:00  INFO 12868 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:41:45.585-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:41:45.652-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:41:45.668-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:41:45.670-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:41:45.673-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:41:45.676-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:41:45.679-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:41:45.682-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:41:45.684-03:00 DEBUG 12868 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:41:45.690-03:00  WARN 12868 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2024-12-03T22:41:45.690-03:00 ERROR 12868 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
2024-12-03T22:41:45.698-03:00  WARN 12868 --- [Distribuidora] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
2024-12-03T22:41:45.699-03:00  INFO 12868 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:41:45.704-03:00  INFO 12868 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-03T22:41:45.708-03:00  INFO 12868 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-03T22:41:45.713-03:00  INFO 12868 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-12-03T22:41:45.729-03:00  INFO 12868 --- [Distribuidora] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-03T22:41:45.753-03:00 ERROR 12868 --- [Distribuidora] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1093) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1030) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at com.distribuidora.Distribuidora.DistribuidoraApplication.main(DistribuidoraApplication.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.0.jar:3.4.0]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; SQL [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; constraint [fornecedor_cnpj_key]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.0.jar:6.2.0]
	at jdk.proxy4/jdk.proxy4.$Proxy137.save(Unknown Source) ~[na:na]
	at com.distribuidora.services.DBService.initDB(DBService.java:46) ~[classes/:na]
	at com.distribuidora.config.DevConfig.initDB(DevConfig.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219) ~[spring-beans-6.2.0.jar:6.2.0]
	... 25 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:104) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:110) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.0.jar:6.2.0]
	... 46 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155) ~[postgresql-42.7.4.jar:42.7.4]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	... 67 common frames omitted

2024-12-03T22:43:30.849-03:00  INFO 23140 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 23140 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T22:43:30.854-03:00  INFO 23140 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T22:43:30.926-03:00  INFO 23140 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T22:43:30.926-03:00  INFO 23140 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T22:43:31.733-03:00  INFO 23140 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T22:43:31.798-03:00  INFO 23140 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 3 JPA repository interfaces.
2024-12-03T22:43:32.841-03:00  INFO 23140 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T22:43:32.854-03:00  INFO 23140 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T22:43:32.854-03:00  INFO 23140 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T22:43:32.908-03:00  INFO 23140 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T22:43:32.908-03:00  INFO 23140 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1981 ms
2024-12-03T22:43:32.948-03:00  INFO 23140 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T22:43:33.166-03:00  INFO 23140 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@30964f66
2024-12-03T22:43:33.168-03:00  INFO 23140 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T22:43:33.180-03:00  INFO 23140 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T22:43:33.334-03:00  INFO 23140 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T22:43:33.415-03:00  INFO 23140 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T22:43:33.457-03:00  INFO 23140 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T22:43:33.797-03:00  INFO 23140 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T22:43:33.900-03:00  INFO 23140 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T22:43:34.917-03:00  INFO 23140 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T22:43:34.937-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T22:43:34.938-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T22:43:34.944-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T22:43:34.945-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T22:43:34.951-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T22:43:34.956-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T22:43:34.960-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T22:43:34.962-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T22:43:34.964-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T22:43:34.971-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T22:43:34.979-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T22:43:34.981-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T22:43:34.989-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T22:43:35.002-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T22:43:35.014-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T22:43:35.027-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T22:43:35.031-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T22:43:35.039-03:00  INFO 23140 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:43:35.456-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:43:35.521-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:43:35.539-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:43:35.540-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:43:35.543-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:43:35.545-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:43:35.548-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:43:35.550-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:43:35.551-03:00 DEBUG 23140 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:43:35.557-03:00  WARN 23140 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2024-12-03T22:43:35.557-03:00 ERROR 23140 --- [Distribuidora] [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
2024-12-03T22:43:35.566-03:00  WARN 23140 --- [Distribuidora] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
2024-12-03T22:43:35.566-03:00  INFO 23140 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:43:35.570-03:00  INFO 23140 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-03T22:43:35.576-03:00  INFO 23140 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-12-03T22:43:35.579-03:00  INFO 23140 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-12-03T22:43:35.594-03:00  INFO 23140 --- [Distribuidora] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-03T22:43:35.616-03:00 ERROR 23140 --- [Distribuidora] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'devConfig': Invocation of init method failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:423) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1794) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:288) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1093) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1030) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.0.jar:6.2.0]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.0.jar:3.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.0.jar:3.4.0]
	at com.distribuidora.Distribuidora.DistribuidoraApplication.main(DistribuidoraApplication.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.4.0.jar:3.4.0]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; SQL [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]; constraint [fornecedor_cnpj_key]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566) ~[spring-orm-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.0.jar:6.2.0]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.0.jar:6.2.0]
	at jdk.proxy4/jdk.proxy4.$Proxy137.save(Unknown Source) ~[na:na]
	at com.distribuidora.services.DBService.initDB(DBService.java:46) ~[classes/:na]
	at com.distribuidora.config.DevConfig.initDB(DevConfig.java:17) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401) ~[spring-beans-6.2.0.jar:6.2.0]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219) ~[spring-beans-6.2.0.jar:6.2.0]
	... 25 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.] [insert into fornecedor (cnpj,endereco,nome,telefone,id_fornecedor) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:134) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:104) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:110) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.2.0.jar:6.2.0]
	... 46 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "fornecedor_cnpj_key"
  Detalhe: Key (cnpj)=(FF1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155) ~[postgresql-42.7.4.jar:42.7.4]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.6.2.Final.jar:6.6.2.Final]
	... 67 common frames omitted

2024-12-03T22:44:06.133-03:00  INFO 25176 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Starting DistribuidoraApplication using Java 17.0.12 with PID 25176 (C:\Users\marce\Downloads\Distribuidora\Distribuidora\target\classes started by marce in C:\Users\marce\Downloads\Distribuidora\Distribuidora)
2024-12-03T22:44:06.136-03:00  INFO 25176 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : The following 1 profile is active: "dev"
2024-12-03T22:44:06.205-03:00  INFO 25176 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-03T22:44:06.206-03:00  INFO 25176 --- [Distribuidora] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-03T22:44:06.780-03:00  INFO 25176 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-03T22:44:06.831-03:00  INFO 25176 --- [Distribuidora] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 3 JPA repository interfaces.
2024-12-03T22:44:07.727-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-03T22:44:07.741-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-03T22:44:07.741-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-03T22:44:07.798-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-03T22:44:07.798-03:00  INFO 25176 --- [Distribuidora] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1592 ms
2024-12-03T22:44:07.840-03:00  INFO 25176 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-12-03T22:44:08.066-03:00  INFO 25176 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@335d05f1
2024-12-03T22:44:08.068-03:00  INFO 25176 --- [Distribuidora] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-12-03T22:44:08.079-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/bd_distribuidora'
2024-12-03T22:44:08.238-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-03T22:44:08.305-03:00  INFO 25176 --- [Distribuidora] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-03T22:44:08.349-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-03T22:44:08.666-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-03T22:44:08.775-03:00  INFO 25176 --- [Distribuidora] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.4
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-03T22:44:09.803-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-03T22:44:09.825-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2024-12-03T22:44:09.827-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FKhldf4olyjr4cmdbv79l1n8j3m
2024-12-03T22:44:09.831-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       drop constraint if exists FK5kv4pqdrecm2vqdy1b6gs4q2y
2024-12-03T22:44:09.832-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists estabelecimento cascade
2024-12-03T22:44:09.837-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists fornecedor cascade
2024-12-03T22:44:09.840-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop table if exists roupa cascade
2024-12-03T22:44:09.845-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_estabelecimento
2024-12-03T22:44:09.847-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_fornecedor
2024-12-03T22:44:09.849-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    drop sequence if exists seq_roupa
2024-12-03T22:44:09.862-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_estabelecimento start with 1 increment by 50
2024-12-03T22:44:09.868-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_fornecedor start with 1 increment by 50
2024-12-03T22:44:09.869-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create sequence seq_roupa start with 1 increment by 50
2024-12-03T22:44:09.880-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table estabelecimento (
        id_estabelecimento integer not null,
        cidade varchar(255) not null,
        endereco varchar(255) not null,
        nome varchar(255) not null unique,
        primary key (id_estabelecimento)
    )
2024-12-03T22:44:09.892-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table fornecedor (
        id_fornecedor integer not null,
        cnpj varchar(255) not null unique,
        endereco varchar(255) not null,
        nome varchar(255) not null,
        telefone varchar(255) not null,
        primary key (id_fornecedor)
    )
2024-12-03T22:44:09.904-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    create table roupa (
        avaliacao smallint check (avaliacao between 0 and 4),
        idestabelecimento integer,
        idfornecedor integer,
        preco numeric(12,2) not null,
        quantidade_estoque numeric(13,3) not null,
        status smallint check (status between 0 and 1),
        id_roupa bigint not null,
        categoria varchar(255) not null,
        cor varchar(255) not null,
        descricao varchar(255) not null unique,
        tamanho varchar(255) not null,
        primary key (id_roupa)
    )
2024-12-03T22:44:09.915-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FKhldf4olyjr4cmdbv79l1n8j3m 
       foreign key (idestabelecimento) 
       references estabelecimento
2024-12-03T22:44:09.919-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    alter table if exists roupa 
       add constraint FK5kv4pqdrecm2vqdy1b6gs4q2y 
       foreign key (idfornecedor) 
       references fornecedor
2024-12-03T22:44:09.927-03:00  INFO 25176 --- [Distribuidora] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T22:44:10.332-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:44:10.396-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:44:10.410-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_estabelecimento')
2024-12-03T22:44:10.412-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:44:10.414-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        estabelecimento
        (cidade, endereco, nome, id_estabelecimento) 
    values
        (?, ?, ?, ?)
2024-12-03T22:44:10.415-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:44:10.417-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:44:10.419-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_fornecedor')
2024-12-03T22:44:10.421-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:44:10.424-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        fornecedor
        (cnpj, endereco, nome, telefone, id_fornecedor) 
    values
        (?, ?, ?, ?, ?)
2024-12-03T22:44:10.426-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_roupa')
2024-12-03T22:44:10.430-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        roupa
        (avaliacao, categoria, cor, descricao, idestabelecimento, idfornecedor, preco, quantidade_estoque, status, tamanho, id_roupa) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-03T22:44:10.434-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    select
        nextval('seq_roupa')
2024-12-03T22:44:10.436-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        roupa
        (avaliacao, categoria, cor, descricao, idestabelecimento, idfornecedor, preco, quantidade_estoque, status, tamanho, id_roupa) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-03T22:44:10.439-03:00 DEBUG 25176 --- [Distribuidora] [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        roupa
        (avaliacao, categoria, cor, descricao, idestabelecimento, idfornecedor, preco, quantidade_estoque, status, tamanho, id_roupa) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-03T22:44:10.503-03:00  WARN 25176 --- [Distribuidora] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-03T22:44:10.886-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-03T22:44:10.925-03:00  INFO 25176 --- [Distribuidora] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-03T22:44:10.936-03:00  INFO 25176 --- [Distribuidora] [restartedMain] c.d.D.DistribuidoraApplication           : Started DistribuidoraApplication in 5.315 seconds (process running for 5.89)
2024-12-03T22:44:26.824-03:00  INFO 25176 --- [Distribuidora] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-03T22:44:26.825-03:00  INFO 25176 --- [Distribuidora] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-03T22:44:26.826-03:00  INFO 25176 --- [Distribuidora] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-03T22:44:26.952-03:00 DEBUG 25176 --- [Distribuidora] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0
2024-12-03T22:46:21.673-03:00 DEBUG 25176 --- [Distribuidora] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.id_estabelecimento=?
2024-12-03T22:46:21.678-03:00 DEBUG 25176 --- [Distribuidora] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.idestabelecimento,
        r1_0.id_roupa,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.cor,
        r1_0.descricao,
        f1_0.id_fornecedor,
        f1_0.cnpj,
        f1_0.endereco,
        f1_0.nome,
        f1_0.telefone,
        r1_0.preco,
        r1_0.quantidade_estoque,
        r1_0.status,
        r1_0.tamanho 
    from
        roupa r1_0 
    left join
        fornecedor f1_0 
            on f1_0.id_fornecedor=r1_0.idfornecedor 
    where
        r1_0.idestabelecimento=?
2024-12-03T22:46:21.698-03:00  WARN 25176 --- [Distribuidora] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.distribuidora.services.exceptions.DataIntegrityViolationException: Estabelecimento não pode ser Deletado pois possui roupas vinculados!]
2024-12-03T22:51:05.170-03:00 DEBUG 25176 --- [Distribuidora] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.id_roupa,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.cor,
        r1_0.descricao,
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome,
        f1_0.id_fornecedor,
        f1_0.cnpj,
        f1_0.endereco,
        f1_0.nome,
        f1_0.telefone,
        r1_0.preco,
        r1_0.quantidade_estoque,
        r1_0.status,
        r1_0.tamanho 
    from
        roupa r1_0 
    left join
        estabelecimento e1_0 
            on e1_0.id_estabelecimento=r1_0.idestabelecimento 
    left join
        fornecedor f1_0 
            on f1_0.id_fornecedor=r1_0.idfornecedor 
    where
        r1_0.id_roupa=?
2024-12-03T22:51:05.185-03:00 DEBUG 25176 --- [Distribuidora] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    delete 
    from
        roupa 
    where
        id_roupa=?
2024-12-03T22:51:18.236-03:00 DEBUG 25176 --- [Distribuidora] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.id_roupa,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.cor,
        r1_0.descricao,
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome,
        f1_0.id_fornecedor,
        f1_0.cnpj,
        f1_0.endereco,
        f1_0.nome,
        f1_0.telefone,
        r1_0.preco,
        r1_0.quantidade_estoque,
        r1_0.status,
        r1_0.tamanho 
    from
        roupa r1_0 
    left join
        estabelecimento e1_0 
            on e1_0.id_estabelecimento=r1_0.idestabelecimento 
    left join
        fornecedor f1_0 
            on f1_0.id_fornecedor=r1_0.idfornecedor 
    where
        r1_0.id_roupa=?
2024-12-03T22:51:18.241-03:00  WARN 25176 --- [Distribuidora] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.distribuidora.services.exceptions.ObjectNotFoundException: Roupa Não Encontrada! ID: 2]
2024-12-03T22:51:41.540-03:00 DEBUG 25176 --- [Distribuidora] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        e1_0.id_estabelecimento,
        e1_0.cidade,
        e1_0.endereco,
        e1_0.nome 
    from
        estabelecimento e1_0 
    where
        e1_0.id_estabelecimento=?
2024-12-03T22:51:41.543-03:00 DEBUG 25176 --- [Distribuidora] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.idestabelecimento,
        r1_0.id_roupa,
        r1_0.avaliacao,
        r1_0.categoria,
        r1_0.cor,
        r1_0.descricao,
        f1_0.id_fornecedor,
        f1_0.cnpj,
        f1_0.endereco,
        f1_0.nome,
        f1_0.telefone,
        r1_0.preco,
        r1_0.quantidade_estoque,
        r1_0.status,
        r1_0.tamanho 
    from
        roupa r1_0 
    left join
        fornecedor f1_0 
            on f1_0.id_fornecedor=r1_0.idfornecedor 
    where
        r1_0.idestabelecimento=?
2024-12-03T22:51:41.550-03:00 DEBUG 25176 --- [Distribuidora] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    delete 
    from
        estabelecimento 
    where
        id_estabelecimento=?
2024-12-03T23:16:54.096-03:00  INFO 25176 --- [Distribuidora] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2024-12-03T23:16:54.174-03:00  INFO 25176 --- [Distribuidora] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2024-12-03T23:16:54.184-03:00  INFO 25176 --- [Distribuidora] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-03T23:16:54.184-03:00  INFO 25176 --- [Distribuidora] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-12-03T23:16:54.184-03:00  INFO 25176 --- [Distribuidora] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
